<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>구매자 로그인 - planT</title>
  <meta name="description" content="농산물 직거래 플랫폼 planT의 구매자 로그인 페이지입니다.">
  
  <!-- 외부 리소스 -->
  <link href="https://fonts.googleapis.com/css2?family=Cabin:wght@600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" th:href="@{/css/buyer/login.css}">
</head>
<body>
  <!-- 네비게이션 바 -->
  <header class="navbar-container" role="banner">
    <nav class="navbar" role="navigation" aria-label="메인 네비게이션">
      <a th:href="@{/home}" class="logo-container" aria-label="홈으로 이동">
        <img th:src="@{/images/free-icon-sprout-7101338.png}" 
             alt="planT 로고" 
             class="navbar-logo-img"/>
        <span class="brand-name">planT</span>
      </a>
      <div class="navbar-buttons">
        <a th:href="@{/common/select_login}" 
           class="btn-outline" 
           aria-label="로그인 페이지로 이동">로그인</a>
        <a th:href="@{/common/select_signup}" 
           class="btn-filled" 
           aria-label="회원가입 페이지로 이동">회원가입</a>
      </div>
    </nav>
  </header>

  <!-- 구매자 로그인 폼 -->
  <main class="login-container" role="main" aria-labelledby="loginTitle">
    <h1 id="loginTitle">구매자 로그인</h1>
    <form th:action="@{/buyer/login}" 
          method="post" 
          class="login-form" 
          id="loginForm" 
          novalidate>
      
      <!-- 서버 에러 메시지 표시 영역 -->
      <div th:if="${error}" 
           class="server-error-message" 
           role="alert"
           aria-live="polite">
        <span th:text="${error}">이메일이나 비밀번호가 틀렸습니다</span>
      </div>
      
      <!-- 이메일 입력 -->
      <div class="form-group">
        <label for="email">이메일 <span class="required-mark">*</span></label>
        <input type="email" 
               id="email" 
               name="email" 
               placeholder="이메일 주소를 입력하세요" 
               required 
               autocomplete="email"
               aria-describedby="email-error"
               th:value="${email}" />
        <div id="email-error" 
             class="error-message" 
             role="alert"
             aria-live="polite"></div>
      </div>
      
      <!-- 비밀번호 입력 -->
      <div class="form-group">
        <label for="password">비밀번호 <span class="required-mark">*</span></label>
        <input type="password" 
               id="password" 
               name="password" 
               placeholder="비밀번호를 입력하세요" 
               required 
               autocomplete="current-password"
               aria-describedby="password-error" />
        <div id="password-error" 
             class="error-message" 
             role="alert"
             aria-live="polite"></div>
      </div>
      
      <!-- 로그인 버튼 -->
      <button type="submit" 
              class="login-button" 
              id="loginButton"
              aria-describedby="loginHelp">
        <span class="button-text">로그인</span>
      </button>
      <div id="loginHelp" class="sr-only">
        이메일과 비밀번호를 입력한 후 로그인을 완료합니다.
      </div>
    </form>
  </main>

  <!-- JavaScript 파일 로드 -->
  <script th:src="@{/js/buyer/login.js}"></script>
</body>
</html>
